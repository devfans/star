OAuth2.adapter("google",{authorizationCodeURL:function(e){return"https://accounts.google.com/o/oauth2/auth?approval_prompt=force&client_id={{CLIENT_ID}}&redirect_uri={{REDIRECT_URI}}&scope={{API_SCOPE}}&access_type=offline&response_type=code".replace("{{CLIENT_ID}}",e.clientId).replace("{{REDIRECT_URI}}",this.redirectURL(e)).replace("{{API_SCOPE}}",e.apiScope)},redirectURL:function(e){return"http://www.google.com/robots.txt"},parseAuthorizationCode:function(e){var t=e.match(/[&\?]error=([^&]+)/);if(t)throw"Error getting authorization code: "+t[1];return e.match(/[&\?]code=([\w\/\-]+)/)[1]},accessTokenURL:function(){return"https://accounts.google.com/o/oauth2/token"},accessTokenMethod:function(){return"POST"},accessTokenParams:function(e,t){return{code:e,client_id:t.clientId,client_secret:t.clientSecret,redirect_uri:this.redirectURL(t),grant_type:"authorization_code"}},parseAccessToken:function(e){e=JSON.parse(e);return{accessToken:e.access_token,refreshToken:e.refresh_token,expiresIn:e.expires_in}}});